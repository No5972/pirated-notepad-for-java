# Pirated Notepad for Java
用 Java 编写仿 Windows 中的记事本 大作业，单 java 源码文件 / Implementing a Notepad imitation of Windows using Java for practicums, with one single .java source file

# 使用方法
1. 准备一个不低于 Java 8 的 JDK
2. 运行命令
```bash
javac Notepad.java
java Notepad
```

3. 查看运行效果（具体效果请往下拉到[截图](#截图)）

# 说明

知乎有人提问[如何用 Java 编写 Windows 中的记事本](https://www.zhihu.com/question/659364217/answer/3540757546)。这个问题就问的太过于宽泛。 **Windows 中的记事本，想复刻一个出来，不是那么容易的。** 现在 Windows 10 的记事本的功能也是相当复杂的。你们要是说“用 Java 编写一个 Windows 98 的记事本”，可能就很容易就能做一个出来，但是如果简单地说“Windows 中的记事本”，那么就得考虑一下怎么尽可能地还原 Windows 当前的记事本。 *这都还没考虑 Windows 11 记事本的 Copilot AI 大模型协助写作的功能，搞不好还得自己开发和训练一个足够智能的 LLM 大模型出来。*

为了让 Java 小白也能开箱即用，这里特意做成了单文件源码，直接编译运行就能看到效果。

本 Java 程序使用 Gemini 和通义灵码实现。

1.0 版已实现的菜单有：新建、新窗口、打开、保存、另存为、打印、退出、剪切、复制、粘贴、删除、在 Bing 中搜索、全选、插入日期、字体、帮助、关于。

* 页面设置、撤销、重做、查找、替换、转到、自动换行暂未实现。请自行通过各种手段实现。

2.0 版新增了不少优化。未选中文本时剪切、复制、删除、搜索 Bing 菜单项将不可用；搜索 Bing 和部分弹出对话框的菜单项标题结尾添加了省略号；文件有改动的时候将在标题栏开头添加一个星号；文件有改动的时候，执行打开、关闭操作的时候，将弹出是否保存文件的对话框；优化了查找上一个、字体等菜单项的快捷键；打开文件时，标题栏将显示文件名，加载新文档时，标题栏显示为“无标题 - 记事本”。

3.0 实现了查找、查找上一个、查找下一个、替换、页面设置、撤销、重做功能。字体对话框改为中文显示；字体对话框将默认选中当前文本框设置的字体的各种属性；插入日期时间功能如果有文本被选中时将用当前日期时间替换选中文本；替换窗口的快捷键改为 ```Ctrl + R```；弹出保存文件的提示对话框时将显示文件名；修复转到功能无法跳转到指定行号的问题；尚未实现的功能还有：自动换行、状态栏开关。

4.0 添加了文件拖放打开功能（仅允许拖放单个文件；不允许拖放多个文件或其他种类）、发送反馈功能（将打开本知乎回答链接）、右键菜单和从右到左的阅读顺序功能、首行为".LOG"的文件打开时结尾自动添加当前日期时间的功能（未在本记事本做编辑操作时不会提示保存文件）；文件菜单、编辑菜单添加更多分隔符；所有菜单项、对话框里面的控件添加访问键（菜单项标题的后缀括弧字母）；尚未实现的功能还有：自动换行、状态栏开关、打开/关闭系统输入法、插入/显示Unicode控制字符、缩放画面及其快捷键。查找替换功能还有 bug，不能很精确的找到结果。

5.0 添加了切换状态栏显示隐藏功能；状态栏添加实时显示光标所在行数和列数，添加调整窗口大小的标记，调整高度；帮助主题菜单项改为同 Windows 记事本一致（打开默认浏览器并转到必应搜索“获取有关 windows 中的记事本的帮助”）；查找、替换窗口可以使用 ```Ctrl + R```、```Ctrl + F``` 快捷键切换，且自动填入查找文本的输入框的内容；查找、替换窗口可切换到主窗口继续编辑，无需关闭；优化查找窗口的布局，和替换窗口基本一致，查找窗口的循环复选框访问键改为 ```L```，添加查找文本输入框的访问键 ```N```；替换窗口删除标题栏的图标；删除状态栏默认显示的“准备就绪”提示；修复了替换窗口意外可以调整窗口大小的问题；修复了转到功能意外可以输入非数字字符的问题。

6.0 添加了切换自动换行功能（主编辑控件不再使用 ```JTextPane```，改为 ```JTextArea```；打印文件时打印出来的内容将固定自动换行）；全部替换功能提示改为在主窗口底部状态栏显示，不再弹出消息框； 原本有文件打开时，执行打开文件菜单时，打开文件对话框将默认定位到当前文件所在目录；优化查找对话框的布局；当前有文件打开，执行另存为功能时，保存对话框将自动定位到当前文件所在目录，并默认填入当前文件的文件名；状态栏添加显示当前文件的编码；修复状态栏主要信息未显示的问题；修复打开 ```GBK``` 或 ```UTF-8``` 编码文件时乱码的问题；修复保存文件提示是否覆盖点击否的时候文件内容意外丢失的问题。尚未解决的问题还有：字体功能的字体对话框不能完整加载所有字体，是因为有些字体不是为所有用户安装的，所以这些不是给所有用户安装的字体可能无法在本程序加载到，请将要使用的字体文件右键选择为所有用户安装。

# 截图

![](https://pic1.zhimg.com/v2-e68d810c3ff4b30b5a2d679f7a5c8a01_r.png)

![](https://pica.zhimg.com/v2-9e5c31009cc6c633ecdb894f3699ecf7_r.png)

![](https://picx.zhimg.com/v2-26c5aae41ff93b6f829e40183550d33f_r.png)

![](https://picx.zhimg.com/v2-3d000e85499085883fb884f36c222cac_r.png)

![](https://pic1.zhimg.com/v2-81119e6bd7dc0b2696e85c671469e920_r.png)

![](https://pic1.zhimg.com/v2-a1a2111aebaf951979965c3a82be96cd_r.png)

![](https://picx.zhimg.com/v2-8bcee433a28dbb77346001da7c634249_r.png)
